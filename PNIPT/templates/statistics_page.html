{% extends 'layout/layout.html' %}

{% block body %}
{% include 'layout/navigation.html' %}
<div class="container-fluid">
    <div class="jumbotron vertical-center">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header"><strong>Quality Control/QC </strong></h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
    </div>
    <!-- /.row -->
    <div class="row">
    </div>
    <ul class="nav nav-tabs" id="myTab">
        <li><a href="#GCBias" data-toggle="tab">GCBias</a></li>
        <li><a href="#FetalFraction" data-toggle="tab">FetalFraction</a></li>
        <li><a href="#NonExcludedSites2Tags" data-toggle="tab">NonExcludedSites2Tags</a></li>
        <li><a href="#Tags2IndexedReads" data-toggle="tab">Tags2IndexedReads</a></li>
        <li><a href="#TotalIndexedReads2Clusters" data-toggle="tab">TotalIndexedReads2Clusters</a></li>
        <li><a href="#Library_nM" data-toggle="tab">Library yield</a></li>
        <li><a href="#Ratio_13" data-toggle="tab">Ratio_13</a></li>
        <li><a href="#Ratio_18" data-toggle="tab">Ratio_18</a></li>
        <li><a href="#Ratio_21" data-toggle="tab">Ratio_21</a></li>
        <li><a href="#Stdev_13" data-toggle="tab">Stdev_13</a></li>
        <li><a href="#Stdev_18" data-toggle="tab">Stdev_18</a></li>
        <li><a href="#Stdev_21" data-toggle="tab">Stdev_21</a></li>
        <li><a href="#Clusters" data-toggle="tab">Clusters</a></li>
        <li><a href="#NonExcludedSites" data-toggle="tab">NonExcludedSites</a></li>
        <li><a href="#PerfectMatchTags2Tags" data-toggle="tab">PerfectMatchTags2Tags</a></li>
        <li><a href="#NCD_Y" data-toggle="tab">NCD_Y</a></li>
        <li><a href="#PCS" data-toggle="tab">NCV_X for PCS</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane fade in active" id='GCBias'>
            <div id="GCBias" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane fade in active" id='FetalFraction'>
            <div id="FetalFraction" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='NonExcludedSites2Tags'>
            <div id="NonExcludedSites2Tags" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Tags2IndexedReads'>
            <div id="Tags2IndexedReads" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='TotalIndexedReads2Clusters'>
            <div id="TotalIndexedReads2Clusters" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Library_nM'>
            <div id="Library_nM" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Ratio_13'>
            <div id="Ratio_13" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Ratio_18'>
            <div id="Ratio_18" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Ratio_21'>
            <div id="Ratio_21" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Stdev_13'>
            <div id="Stdev_13" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Stdev_18'>
            <div id="Stdev_18" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Stdev_21'>
            <div id="Stdev_21" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='Clusters'>
            <div id="Clusters" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='NonExcludedSites'>
            <div id="NonExcludedSites" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='PerfectMatchTags2Tags'>
            <div id="PerfectMatchTags2Tags" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='NCD_Y'>
            <div id="NCD_Y" style="min-width:1000px; height:600px; "></div>
        </div>
        <div class="tab-pane active" id='PCS'>
            <div id="PCS" style="min-width:1000px; height:600px; "></div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}


<script>
    ////////////////// NonExcludedSites2Tags //////////////////
    
    var XY_plot = document.getElementById('')
    var data = []
    
    var layout = {
        title: 'NonExcludedSites2Tags - (40 most recent batches)',
        hovermode:'closest',
        margin : {b: 100},
        xaxis :{showline: true,
            tickvals : {{ticks}},
            ticks: 'outside',
            ticktext : {{batch_names|tojson}},
            tickangle : 40,
            zeroline: false,
            linecolor: '#636363',
            linewidth: 5,
            gridcolor: '#bdbdbd',
            
        },
        
        yaxis :{zeroline: false,
            showline: true,
            showgrid: false,
            linecolor: '#636363',
            linewidth: 5,
            title : 'NonExcludedSites2Tags'
        },};
        
        {% for batch_id  in batch_ids %}
        var box = {
            y: {{NonExcludedSites2Tags[batch_id]['y']}},
            x: {{NonExcludedSites2Tags[batch_id]['x']}},
            //jitter: 0.3,
            //pointpos: 30,
            type: 'box',
            showlegend: false,
            //name: "{{batch_names[batch_id]}}",
            boxpoints: 'suspectedoutliers',
        };
        
        
        data.push(box); 
        {% endfor %}
        {% for tres in thresholds['NonExcludedSites2Tags'].keys() %} 
        var line = {x : [0.5, 40.5],
            y : [{{thresholds['NonExcludedSites2Tags'][tres]}},{{thresholds['NonExcludedSites2Tags'][tres]}}],
            mode: 'lines',
            showlegend: false, 
            name: "{{tres}}",
            line: {
                dash: 'dot',
                color : "red",
                width : 2}};
                data.push(line);
                {% endfor %}
                Plotly.newPlot('NonExcludedSites2Tags', data, layout);
            </script>
            
            <script>
                ////////////////// NCV_X for PCS //////////////////
                
                var XY_plot = document.getElementById('')
                var data = []
                
                var layout = {
                    title: 'NCV_X for PCS - (40 most recent batches)',
                    hovermode:'closest',
                    margin : {b: 100},
                    xaxis :{showline: true,
                        tickvals : {{ticks}},
                        ticktext : {{batch_names|tojson}},
                        tickangle : 40,
                        zeroline: false,
                        linecolor: '#636363',
                        linewidth: 5,
                        gridcolor: '#bdbdbd',
                        
                    },
                    
                    yaxis :{zeroline: false,
                        showline: true,
                        showgrid: false,
                        linecolor: '#636363',
                        linewidth: 5,
                        title : 'NCV_X'
                    },};
                    
                    {% for batch_id  in batch_ids %}
                    {% for sample  in PCS[batch_id].keys() %}
                    var box = {
                        y: {{PCS[batch_id][sample]['y']}},
                        x: {{PCS[batch_id][sample]['x']}},
                        mode: 'markers',
                        type: 'scatter',
                        showlegend: false,
                        text: "{{batch_id}} {{sample}}",
                        name: "{{sample}}",
                    };
                    
                    data.push(box); 
                    {% endfor %}
                    {% endfor %}
                    
                    {% for pcs in thresholds['PCS'].keys() %} 
                    {% for tres in thresholds['PCS'][pcs]['tresholds'].keys() %} 
                    var line = {x : {{thresholds['PCS'][pcs]['ticks']}},
                    y : {{thresholds['PCS'][pcs]['tresholds'][tres]}},
                    mode: 'lines',
                    showlegend: false, 
                    name: "{{tres}}",
                    line: {
                        dash: 'dot',
                        color : "red",
                        width : 2}};
                        data.push(line);
                        {% endfor %}
                        {% endfor %}
                        
                        
                        Plotly.newPlot('PCS', data, layout);
                    </script>
                    
                    
                    
                    <script>
                        ////////////////// Ratio_13 //////////////////
                        
                        var XY_plot = document.getElementById('')
                        var data = []
                        
                        var layout = {
                            title: 'Ratio_13 - (40 most recent batches)',
                            hovermode:'closest',
                            margin : {b: 100},
                            xaxis :{showline: true,
                                tickvals : {{ticks}},
                                ticktext : {{batch_names|tojson}},
                                tickangle : 40,
                                zeroline: false,
                                linecolor: '#636363',
                                linewidth: 5,
                                gridcolor: '#bdbdbd',
                                
                            },
                            
                            yaxis :{zeroline: false,
                                showline: true,
                                showgrid: false,
                                linecolor: '#636363',
                                linewidth: 5,
                                title : 'Ratio_13'
                            },};
                            
                            {% for batch_id  in batch_ids %}
                            var box = {
                                y: {{Ratio_13[batch_id]['y']}},
                                x: {{Ratio_13[batch_id]['x']}},
                                //jitter: 0.3,
                                //pointpos: 30,
                                type: 'box',
                                showlegend: false,
                                //name: "{{batch_names[batch_id]}}",
                                boxpoints: 'suspectedoutliers',
                            };
                            
                            
                            data.push(box); 
                            {% endfor %}
                            {% for tres in thresholds['Ratio_13'].keys() %} 
                            var line = {x : [0.5, 40.5],
                                y : [{{thresholds['Ratio_13'][tres]}},{{thresholds['Ratio_13'][tres]}}],
                                mode: 'lines',
                                name: "{{tres}}",
                                showlegend: false,
                                line: {
                                    dash: 'dot',
                                    color : "red",
                                    width : 2}};
                                    data.push(line);
                                    {% endfor %}
                                    
                                    Plotly.newPlot('Ratio_13', data, layout);
                                </script>
                                
                                <script>
                                    ////////////////// Ratio_18 //////////////////
                                    
                                    var XY_plot = document.getElementById('')
                                    var data = []
                                    
                                    var layout = {
                                        title: 'Ratio_18 - (40 most recent batches)',
                                        hovermode:'closest',
                                        margin : {b: 100},
                                        xaxis :{showline: true,
                                            tickvals : {{ticks}},
                                            ticktext : {{batch_names|tojson}},
                                            tickangle : 40,
                                            zeroline: false,
                                            linecolor: '#636363',
                                            linewidth: 5,
                                            gridcolor: '#bdbdbd',
                                            
                                        },
                                        
                                        yaxis :{zeroline: false,
                                            showline: true,
                                            showgrid: false,
                                            linecolor: '#636363',
                                            linewidth: 5,
                                            title : 'Ratio_18'
                                        },};
                                        
                                        {% for batch_id  in batch_ids %}
                                        var box = {
                                            y: {{Ratio_18[batch_id]['y']}},
                                            x: {{Ratio_18[batch_id]['x']}},
                                            //jitter: 0.3,
                                            //pointpos: 30,
                                            type: 'box',
                                            showlegend: false,
                                            //name: "{{batch_names[batch_id]}}",
                                            boxpoints: 'suspectedoutliers',
                                        };
                                        
                                        
                                        data.push(box); 
                                        {% endfor %}
                                        {% for tres in thresholds['Ratio_18'].keys() %} 
                                        var line = {x : [0.5, 40.5],
                                            y : [{{thresholds['Ratio_18'][tres]}},{{thresholds['Ratio_18'][tres]}}],
                                            mode: 'lines',
                                            name: "{{tres}}",
                                            showlegend: false,
                                            line: {
                                                dash: 'dot',
                                                color : "red",
                                                width : 2}};
                                                data.push(line);
                                                {% endfor %}
                                                
                                                Plotly.newPlot('Ratio_18', data, layout);
                                            </script>
                                            
                                            <script>
                                                ////////////////// Ratio_21 //////////////////
                                                
                                                var XY_plot = document.getElementById('')
                                                var data = []
                                                
                                                var layout = {
                                                    title: 'Ratio_21 - (40 most recent batches)',
                                                    hovermode:'closest',
                                                    margin : {b: 100},
                                                    xaxis :{showline: true,
                                                        tickvals : {{ticks}},
                                                        ticktext : {{batch_names|tojson}},
                                                        tickangle : 40,
                                                        zeroline: false,
                                                        linecolor: '#636363',
                                                        linewidth: 5,
                                                        gridcolor: '#bdbdbd',
                                                        
                                                    },
                                                    
                                                    yaxis :{zeroline: false,
                                                        showline: true,
                                                        showgrid: false,
                                                        linecolor: '#636363',
                                                        linewidth: 5,
                                                        title : 'Ratio_21'
                                                    },};
                                                    
                                                    {% for batch_id  in batch_ids %}
                                                    var box = {
                                                        y: {{Ratio_21[batch_id]['y']}},
                                                        x: {{Ratio_21[batch_id]['x']}},
                                                        //jitter: 0.3,
                                                        //pointpos: 30,
                                                        type: 'box',
                                                        showlegend: false,
                                                        //name: "{{batch_names[batch_id]}}",
                                                        boxpoints: 'suspectedoutliers',
                                                    };
                                                    
                                                    
                                                    data.push(box); 
                                                    {% endfor %}
                                                    {% for tres in thresholds['Ratio_21'].keys() %} 
                                                    var line = {x : [0.5, 40.5],
                                                        y : [{{thresholds['Ratio_21'][tres]}},{{thresholds['Ratio_21'][tres]}}],
                                                        mode: 'lines',
                                                        name: "{{tres}}",
                                                        showlegend: false,
                                                        line: {
                                                            dash: 'dot',
                                                            color : "red",
                                                            width : 2}};
                                                            data.push(line);
                                                            {% endfor %}
                                                            
                                                            Plotly.newPlot('Ratio_21', data, layout);
                                                        </script>
                                                        
                                                        <script>
                                                            ////////////////// Clusters //////////////////
                                                            
                                                            var XY_plot = document.getElementById('')
                                                            var data = []
                                                            
                                                            var layout = {
                                                                title: 'Cluster Density - (40 most recent batches)',
                                                                hovermode:'closest',
                                                                margin : {b: 100},
                                                                xaxis :{showline: true,
                                                                    tickvals : {{ticks}},
                                                                    ticktext : {{batch_names|tojson}},
                                                                    tickangle : 40,
                                                                    zeroline: false,
                                                                    linecolor: '#636363',
                                                                    linewidth: 5,
                                                                    gridcolor: '#bdbdbd',
                                                                    
                                                                },
                                                                
                                                                yaxis :{zeroline: false,
                                                                    showline: true,
                                                                    showgrid: false,
                                                                    linecolor: '#636363',
                                                                    linewidth: 5,
                                                                    title : 'Cluster Density'
                                                                },};
                                                                
                                                                {% for batch_id  in batch_ids %}
                                                                var box = {
                                                                    y: {{Clusters[batch_id]['y']}},
                                                                    x: {{Clusters[batch_id]['x']}},
                                                                    type: 'scatter',
                                                                    mode: 'markers',
                                                                    showlegend: false,
                                                                    name: "{{batch_names[batch_id]}}",
                                                                    boxpoints: 'suspectedoutliers',
                                                                };
                                                                data.push(box); 
                                                                {% endfor %}
                                                                {% for tres in thresholds['Clusters'].keys() %} 
                                                                var line = {x : [0.5, 40.5],
                                                                    y : [{{thresholds['Clusters'][tres]}},{{thresholds['Clusters'][tres]}}],
                                                                    mode: 'lines',
                                                                    name: "{{tres}}",
                                                                    showlegend: false,
                                                                    line: {
                                                                        dash: 'dot',
                                                                        color : "red",
                                                                        width : 2}};
                                                                        data.push(line);
                                                                        {% endfor %}
                                                                        
                                                                        Plotly.newPlot('Clusters', data, layout);
                                                                    </script>
                                                                    
                                                                    <script>
                                                                        ////////////////// NonExcludedSites //////////////////
                                                                        
                                                                        var XY_plot = document.getElementById('')
                                                                        var data = []
                                                                        
                                                                        var layout = {
                                                                            title: 'NonExcludedSites - (40 most recent batches)',
                                                                            hovermode:'closest',
                                                                            margin : {b: 100},
                                                                            xaxis :{showline: true,
                                                                                tickvals : {{ticks}},
                                                                                ticktext : {{batch_names|tojson}},
                                                                                tickangle : 40,
                                                                                zeroline: false,
                                                                                linecolor: '#636363',
                                                                                linewidth: 5,
                                                                                gridcolor: '#bdbdbd',
                                                                                
                                                                            },
                                                                            
                                                                            yaxis :{zeroline: false,
                                                                                showline: true,
                                                                                showgrid: false,
                                                                                linecolor: '#636363',
                                                                                linewidth: 5,
                                                                                title : 'NonExcludedSites'
                                                                            },};
                                                                            
                                                                            {% for batch_id  in batch_ids %}
                                                                            var box = {
                                                                                y: {{NonExcludedSites[batch_id]['y']}},
                                                                                x: {{NonExcludedSites[batch_id]['x']}},
                                                                                //jitter: 0.3,
                                                                                //pointpos: 30,
                                                                                type: 'box',
                                                                                showlegend: false,
                                                                                //name: "{{batch_names[batch_id]}}",
                                                                                boxpoints: 'suspectedoutliers',
                                                                            };
                                                                            
                                                                            
                                                                            data.push(box); 
                                                                            {% endfor %}
                                                                            {% for tres in thresholds['NonExcludedSites'].keys() %} 
                                                                            var line = {x : [0.5, 40.5],
                                                                                y : [{{thresholds['NonExcludedSites'][tres]}},{{thresholds['NonExcludedSites'][tres]}}],
                                                                                mode: 'lines',
                                                                                name: "{{tres}}",
                                                                                showlegend: false,
                                                                                line: {
                                                                                    dash: 'dot',
                                                                                    color : "red",
                                                                                    width : 2}};
                                                                                    data.push(line);
                                                                                    {% endfor %}
                                                                                    
                                                                                    Plotly.newPlot('NonExcludedSites', data, layout);
                                                                                </script>
                                                                                
                                                                                <script>
                                                                                    ////////////////// PerfectMatchTags2Tags //////////////////
                                                                                    
                                                                                    var XY_plot = document.getElementById('')
                                                                                    var data = []
                                                                                    
                                                                                    var layout = {
                                                                                        title: 'PerfectMatchTags2Tags - (40 most recent batches)',
                                                                                        hovermode:'closest',
                                                                                        margin : {b: 100},
                                                                                        xaxis :{showline: true,
                                                                                            tickvals : {{ticks}},
                                                                                            ticktext : {{batch_names|tojson}},
                                                                                            tickangle : 40,
                                                                                            zeroline: false,
                                                                                            linecolor: '#636363',
                                                                                            linewidth: 5,
                                                                                            gridcolor: '#bdbdbd',
                                                                                            
                                                                                        },
                                                                                        
                                                                                        yaxis :{zeroline: false,
                                                                                            showline: true,
                                                                                            showgrid: false,
                                                                                            linecolor: '#636363',
                                                                                            linewidth: 5,
                                                                                            title : 'PerfectMatchTags2Tags'
                                                                                        },};
                                                                                        
                                                                                        {% for batch_id  in batch_ids %}
                                                                                        var box = {
                                                                                            y: {{PerfectMatchTags2Tags[batch_id]['y']}},
                                                                                            x: {{PerfectMatchTags2Tags[batch_id]['x']}},
                                                                                            //jitter: 0.3,
                                                                                            //pointpos: 30,
                                                                                            type: 'box',
                                                                                            showlegend: false,
                                                                                            //name: "{{batch_names[batch_id]}}",
                                                                                            boxpoints: 'suspectedoutliers',
                                                                                        };
                                                                                        
                                                                                        
                                                                                        data.push(box); 
                                                                                        {% endfor %}
                                                                                        {% for tres in thresholds['PerfectMatchTags2Tags'].keys() %} 
                                                                                        var line = {x : [0.5, 40.5],
                                                                                            y : [{{thresholds['PerfectMatchTags2Tags'][tres]}},{{thresholds['PerfectMatchTags2Tags'][tres]}}],
                                                                                            mode: 'lines',
                                                                                            name: "{{tres}}",
                                                                                            showlegend: false,
                                                                                            line: {
                                                                                                dash: 'dot',
                                                                                                color : "red",
                                                                                                width : 2}};
                                                                                                data.push(line);
                                                                                                {% endfor %}
                                                                                                
                                                                                                Plotly.newPlot('PerfectMatchTags2Tags', data, layout);
                                                                                            </script>
                                                                                            
                                                                                            
                                                                                            
                                                                                            <script>
                                                                                                
                                                                                                ////////////////// Stdev_13 //////////////////
                                                                                                
                                                                                                var XY_plot = document.getElementById('')
                                                                                                var data = []
                                                                                                
                                                                                                var layout = {
                                                                                                    title: 'Stdev 13 - (40 most recent batches)',
                                                                                                    hovermode:'closest',
                                                                                                    margin : {b: 100},
                                                                                                    xaxis :{showline: true,
                                                                                                        tickvals : {{ticks}},
                                                                                                        ticktext : {{batch_names|tojson}},
                                                                                                        tickangle : 40,
                                                                                                        zeroline: false,
                                                                                                        linecolor: '#636363',
                                                                                                        linewidth: 5,
                                                                                                        gridcolor: '#bdbdbd',
                                                                                                        
                                                                                                    },
                                                                                                    
                                                                                                    yaxis :{zeroline: false,
                                                                                                        showline: true,
                                                                                                        showgrid: false,
                                                                                                        linecolor: '#636363',
                                                                                                        linewidth: 5,
                                                                                                        title : 'Stdev_13'
                                                                                                    },};
                                                                                                    
                                                                                                    {% for batch_id  in batch_ids %}
                                                                                                    var box = {
                                                                                                        y: {{Stdev_13[batch_id]['y']}},
                                                                                                        x: {{Stdev_13[batch_id]['x']}},
                                                                                                        type: 'scatter',
                                                                                                        mode: 'markers',
                                                                                                        showlegend: false,
                                                                                                        text: "{{batch_id}} {{sample}}",
                                                                                                        name: "{{sample}}",
                                                                                                    };
                                                                                                    data.push(box); 
                                                                                                    {% endfor %}
                                                                                                    {% for tres in thresholds['Stdev_13'].keys() %} 
                                                                                                    var line = {x : [0.5, 40.5],
                                                                                                        y : [{{thresholds['Stdev_13'][tres]}},{{thresholds['Stdev_13'][tres]}}],
                                                                                                        mode: 'lines',
                                                                                                        name: "{{tres}}",
                                                                                                        showlegend: false,
                                                                                                        line: {
                                                                                                            dash: 'dot',
                                                                                                            color : "red",
                                                                                                            width : 2}};
                                                                                                            data.push(line);
                                                                                                            {% endfor %}
                                                                                                            
                                                                                                            Plotly.newPlot('Stdev_13', data, layout);
                                                                                                        </script>
                                                                                                        
                                                                                                        <script>
                                                                                                            
                                                                                                            ////////////////// Stdev_18 //////////////////
                                                                                                            
                                                                                                            var XY_plot = document.getElementById('')
                                                                                                            var data = []
                                                                                                            
                                                                                                            var layout = {
                                                                                                                title: 'Stdev 13 - (40 most recent batches)',
                                                                                                                hovermode:'closest',
                                                                                                                margin : {b: 100},
                                                                                                                xaxis :{showline: true,
                                                                                                                    tickvals : {{ticks}},
                                                                                                                    ticktext : {{batch_names|tojson}},
                                                                                                                    tickangle : 40,
                                                                                                                    zeroline: false,
                                                                                                                    linecolor: '#636363',
                                                                                                                    linewidth: 5,
                                                                                                                    gridcolor: '#bdbdbd',
                                                                                                                    
                                                                                                                },
                                                                                                                
                                                                                                                yaxis :{zeroline: false,
                                                                                                                    showline: true,
                                                                                                                    showgrid: false,
                                                                                                                    linecolor: '#636363',
                                                                                                                    linewidth: 5,
                                                                                                                    title : 'Stdev_18'
                                                                                                                },};
                                                                                                                
                                                                                                                {% for batch_id  in batch_ids %}
                                                                                                                var box = {
                                                                                                                    y: {{Stdev_18[batch_id]['y']}},
                                                                                                                    x: {{Stdev_18[batch_id]['x']}},
                                                                                                                    type: 'scatter',
                                                                                                                    mode: 'markers',
                                                                                                                    showlegend: false,
                                                                                                                    text: "{{batch_id}} {{sample}}",
                                                                                                                    name: "{{sample}}",
                                                                                                                };
                                                                                                                data.push(box); 
                                                                                                                {% endfor %}
                                                                                                                {% for tres in thresholds['Stdev_18'].keys() %} 
                                                                                                                var line = {x : [0.5, 40.5],
                                                                                                                    y : [{{thresholds['Stdev_18'][tres]}},{{thresholds['Stdev_18'][tres]}}],
                                                                                                                    mode: 'lines',
                                                                                                                    name: "{{tres}}",
                                                                                                                    showlegend: false,
                                                                                                                    line: {
                                                                                                                        dash: 'dot',
                                                                                                                        color : "red",
                                                                                                                        width : 2}};
                                                                                                                        data.push(line);
                                                                                                                        {% endfor %}
                                                                                                                        
                                                                                                                        Plotly.newPlot('Stdev_18', data, layout);
                                                                                                                    </script>
                                                                                                                    
                                                                                                                    <script>
                                                                                                                        
                                                                                                                        ////////////////// Stdev_21 //////////////////
                                                                                                                        
                                                                                                                        var XY_plot = document.getElementById('')
                                                                                                                        var data = []
                                                                                                                        
                                                                                                                        var layout = {
                                                                                                                            title: 'Stdev 13 - (40 most recent batches)',
                                                                                                                            hovermode:'closest',
                                                                                                                            margin : {b: 100},
                                                                                                                            xaxis :{showline: true,
                                                                                                                                tickvals : {{ticks}},
                                                                                                                                ticktext : {{batch_names|tojson}},
                                                                                                                                tickangle : 40,
                                                                                                                                zeroline: false,
                                                                                                                                linecolor: '#636363',
                                                                                                                                linewidth: 5,
                                                                                                                                gridcolor: '#bdbdbd',
                                                                                                                                
                                                                                                                            },
                                                                                                                            
                                                                                                                            yaxis :{zeroline: false,
                                                                                                                                showline: true,
                                                                                                                                showgrid: false,
                                                                                                                                linecolor: '#636363',
                                                                                                                                linewidth: 5,
                                                                                                                                title : 'Stdev_21'
                                                                                                                            },};
                                                                                                                            
                                                                                                                            {% for batch_id  in batch_ids %}
                                                                                                                            var box = {
                                                                                                                                y: {{Stdev_21[batch_id]['y']}},
                                                                                                                                x: {{Stdev_21[batch_id]['x']}},
                                                                                                                                type: 'scatter',
                                                                                                                                mode: 'markers',
                                                                                                                                showlegend: false,
                                                                                                                                text: "{{batch_id}} {{sample}}",
                                                                                                                                name: "{{sample}}",
                                                                                                                            };
                                                                                                                            data.push(box); 
                                                                                                                            {% endfor %}
                                                                                                                            {% for tres in thresholds['Stdev_21'].keys() %} 
                                                                                                                            var line = {x : [0.5, 40.5],
                                                                                                                                y : [{{thresholds['Stdev_21'][tres]}},{{thresholds['Stdev_21'][tres]}}],
                                                                                                                                mode: 'lines',
                                                                                                                                name: "{{tres}}",
                                                                                                                                showlegend: false,
                                                                                                                                line: {
                                                                                                                                    dash: 'dot',
                                                                                                                                    color : "red",
                                                                                                                                    width : 2}};
                                                                                                                                    data.push(line);
                                                                                                                                    {% endfor %}
                                                                                                                                    
                                                                                                                                    Plotly.newPlot('Stdev_21', data, layout);
                                                                                                                                </script>
                                                                                                                                
                                                                                                                                
                                                                                                                                <script>
                                                                                                                                    
                                                                                                                                    ////////////////// NCD_Y //////////////////
                                                                                                                                    
                                                                                                                                    var XY_plot = document.getElementById('')
                                                                                                                                    var data = []
                                                                                                                                    
                                                                                                                                    var layout = {
                                                                                                                                        title: 'NCD_Y - (40 most recent batches)',
                                                                                                                                        hovermode:'closest',
                                                                                                                                        margin : {b: 100},
                                                                                                                                        xaxis :{showline: true,
                                                                                                                                            tickvals : {{ticks}},
                                                                                                                                            ticktext : {{batch_names|tojson}},
                                                                                                                                            tickangle : 40,
                                                                                                                                            zeroline: false,
                                                                                                                                            linecolor: '#636363',
                                                                                                                                            linewidth: 5,
                                                                                                                                            gridcolor: '#bdbdbd',
                                                                                                                                            
                                                                                                                                        },
                                                                                                                                        
                                                                                                                                        yaxis :{zeroline: false,
                                                                                                                                            showline: true,
                                                                                                                                            showgrid: false,
                                                                                                                                            linecolor: '#636363',
                                                                                                                                            linewidth: 5,
                                                                                                                                            title : 'NCD_Y'
                                                                                                                                        },};
                                                                                                                                        
                                                                                                                                        {% for batch_id  in batch_ids %}
                                                                                                                                        var box = {
                                                                                                                                            y: {{NCD_Y[batch_id]['y']}},
                                                                                                                                            x: {{NCD_Y[batch_id]['x']}},
                                                                                                                                            //jitter: 0.3,
                                                                                                                                            //pointpos: 30,
                                                                                                                                            type: 'box',
                                                                                                                                            showlegend: false,
                                                                                                                                            //name: "{{batch_names[batch_id]}}",
                                                                                                                                            boxpoints: 'suspectedoutliers',
                                                                                                                                        };
                                                                                                                                        
                                                                                                                                        
                                                                                                                                        data.push(box); 
                                                                                                                                        {% endfor %}
                                                                                                                                        
                                                                                                                                        {% for tres in thresholds['NCD_Y'].keys() %} 
                                                                                                                                        var line = {x : [0.5, 40.5],
                                                                                                                                            y : [{{thresholds['NCD_Y'][tres]}},{{thresholds['NCD_Y'][tres]}}],
                                                                                                                                            mode: 'lines',
                                                                                                                                            name: "{{tres}}",
                                                                                                                                            showlegend: false,
                                                                                                                                            line: {
                                                                                                                                                dash: 'dot',
                                                                                                                                                color : "red",
                                                                                                                                                width : 2}};
                                                                                                                                                data.push(line);
                                                                                                                                                {% endfor %}
                                                                                                                                                
                                                                                                                                                Plotly.newPlot('NCD_Y', data, layout);
                                                                                                                                            </script>
                                                                                                                                            
                                                                                                                                            <script>
                                                                                                                                                ////////////////// GCBias //////////////////
                                                                                                                                                
                                                                                                                                                var XY_plot = document.getElementById('')
                                                                                                                                                var data = []
                                                                                                                                                
                                                                                                                                                var layout = {
                                                                                                                                                    title: 'GCBias - (40 most recent batches)',
                                                                                                                                                    hovermode:'closest',
                                                                                                                                                    margin : {b: 100},
                                                                                                                                                    xaxis :{showline: true,
                                                                                                                                                        tickvals : {{ticks}},
                                                                                                                                                        ticktext : {{batch_names|tojson}},
                                                                                                                                                        tickangle : 40,
                                                                                                                                                        zeroline: false,
                                                                                                                                                        linecolor: '#636363',
                                                                                                                                                        linewidth: 5,
                                                                                                                                                        gridcolor: '#bdbdbd',
                                                                                                                                                        
                                                                                                                                                    },
                                                                                                                                                    
                                                                                                                                                    yaxis :{zeroline: false,
                                                                                                                                                        showline: true,
                                                                                                                                                        showgrid: false,
                                                                                                                                                        linecolor: '#636363',
                                                                                                                                                        linewidth: 5,
                                                                                                                                                        title : 'GCBias'
                                                                                                                                                    },};
                                                                                                                                                    
                                                                                                                                                    {% for batch_id  in batch_ids %}
                                                                                                                                                    var box = {
                                                                                                                                                        y: {{GCBias[batch_id]['y']}},
                                                                                                                                                        x: {{GCBias[batch_id]['x']}},
                                                                                                                                                        //jitter: 0.3,
                                                                                                                                                        //pointpos: 30,
                                                                                                                                                        type: 'box',
                                                                                                                                                        showlegend: false,
                                                                                                                                                        //name: "{{batch_names[batch_id]}}",
                                                                                                                                                        boxpoints: 'suspectedoutliers',
                                                                                                                                                    };
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    data.push(box); 
                                                                                                                                                    {% endfor %}
                                                                                                                                                    
                                                                                                                                                    {% for tres in thresholds['GCBias'].keys() %} 
                                                                                                                                                    var line = {x : [0.5, 40.5],
                                                                                                                                                        y : [{{thresholds['GCBias'][tres]}},{{thresholds['GCBias'][tres]}}],
                                                                                                                                                        mode: 'lines',
                                                                                                                                                        name: "{{tres}}",
                                                                                                                                                        showlegend: false,
                                                                                                                                                        line: {
                                                                                                                                                            dash: 'dot',
                                                                                                                                                            color : "red",
                                                                                                                                                            width : 2}};
                                                                                                                                                            data.push(line);
                                                                                                                                                            {% endfor %}
                                                                                                                                                            
                                                                                                                                                            
                                                                                                                                                            Plotly.newPlot('GCBias', data, layout);
                                                                                                                                                        </script>
                                                                                                                                                        
                                                                                                                                                        <script>
                                                                                                                                                            ////////////////// FetalFraction //////////////////
                                                                                                                                                            
                                                                                                                                                            var XY_plot = document.getElementById('')
                                                                                                                                                            var data = []
                                                                                                                                                            
                                                                                                                                                            var layout = {
                                                                                                                                                                title: 'Fetal Fraction - (40 most recent batches)',
                                                                                                                                                                hovermode:'closest',
                                                                                                                                                                margin : {b: 100},
                                                                                                                                                                xaxis :{showline: true,
                                                                                                                                                                    tickvals : {{ticks}},
                                                                                                                                                                    ticktext : {{batch_names|tojson}},
                                                                                                                                                                    tickangle : 40,
                                                                                                                                                                    zeroline: false,
                                                                                                                                                                    linecolor: '#636363',
                                                                                                                                                                    linewidth: 5,
                                                                                                                                                                    gridcolor: '#bdbdbd',
                                                                                                                                                                    
                                                                                                                                                                },
                                                                                                                                                                
                                                                                                                                                                yaxis :{zeroline: false,
                                                                                                                                                                    showline: true,
                                                                                                                                                                    showgrid: false,
                                                                                                                                                                    linecolor: '#636363',
                                                                                                                                                                    linewidth: 5,
                                                                                                                                                                    title : 'FetalFraction'
                                                                                                                                                                },};
                                                                                                                                                                
                                                                                                                                                                {% for batch_id  in batch_ids %}
                                                                                                                                                                var box = {
                                                                                                                                                                    y: {{FF_Formatted[batch_id]['y']}},
                                                                                                                                                                    x: {{FF_Formatted[batch_id]['x']}},
                                                                                                                                                                    type: 'box',
                                                                                                                                                                    showlegend: false,
                                                                                                                                                                    boxpoints: 'suspectedoutliers',
                                                                                                                                                                };
                                                                                                                                                                
                                                                                                                                                                
                                                                                                                                                                data.push(box); 
                                                                                                                                                                {% endfor %}
                                                                                                                                                                
                                                                                                                                                                {% for tres in thresholds['FF_Formatted'].keys() %} 
                                                                                                                                                                var line = {x : [0.5, 40.5],
                                                                                                                                                                    y : [{{thresholds['FF_Formatted'][tres]}},{{thresholds['FF_Formatted'][tres]}}],
                                                                                                                                                                    mode: 'lines',
                                                                                                                                                                    name: "{{tres}}",
                                                                                                                                                                    showlegend: false,
                                                                                                                                                                    line: {
                                                                                                                                                                        dash: 'dot',
                                                                                                                                                                        color : "red",
                                                                                                                                                                        width : 2}};
                                                                                                                                                                        data.push(line);
                                                                                                                                                                        {% endfor %}
                                                                                                                                                                        
                                                                                                                                                                        
                                                                                                                                                                        Plotly.newPlot('FetalFraction', data, layout);
                                                                                                                                                                    </script>
                                                                                                                                                                    
                                                                                                                                                                    
                                                                                                                                                                    <script>
                                                                                                                                                                        ////////////////// Tags2IndexedReads //////////////////
                                                                                                                                                                        
                                                                                                                                                                        var XY_plot = document.getElementById('')
                                                                                                                                                                        var data = []
                                                                                                                                                                        
                                                                                                                                                                        var layout = {
                                                                                                                                                                            title: 'Tags2IndexedReads - (40 most recent batches)',
                                                                                                                                                                            hovermode:'closest',
                                                                                                                                                                            margin : {b: 100},
                                                                                                                                                                            xaxis :{showline: true,
                                                                                                                                                                                tickvals : {{ticks}},
                                                                                                                                                                                ticktext : {{batch_names|tojson}},
                                                                                                                                                                                tickangle : 40,
                                                                                                                                                                                zeroline: false,
                                                                                                                                                                                linecolor: '#636363',
                                                                                                                                                                                linewidth: 5,
                                                                                                                                                                                gridcolor: '#bdbdbd',
                                                                                                                                                                                
                                                                                                                                                                            },
                                                                                                                                                                            
                                                                                                                                                                            yaxis :{zeroline: false,
                                                                                                                                                                                showline: true,
                                                                                                                                                                                showgrid: false,
                                                                                                                                                                                linecolor: '#636363',
                                                                                                                                                                                linewidth: 5,
                                                                                                                                                                                title : 'Tags2IndexedReads'
                                                                                                                                                                            },};
                                                                                                                                                                            
                                                                                                                                                                            {% for batch_id  in batch_ids %}
                                                                                                                                                                            var box = {
                                                                                                                                                                                y: {{Tags2IndexedReads[batch_id]['y']}},
                                                                                                                                                                                x: {{Tags2IndexedReads[batch_id]['x']}},
                                                                                                                                                                                //jitter: 0.3,
                                                                                                                                                                                //pointpos: 30,
                                                                                                                                                                                type: 'box',
                                                                                                                                                                                showlegend: false,
                                                                                                                                                                                //name: "{{batch_names[batch_id]}}",
                                                                                                                                                                                boxpoints: 'suspectedoutliers',
                                                                                                                                                                            };
                                                                                                                                                                            
                                                                                                                                                                            
                                                                                                                                                                            data.push(box); 
                                                                                                                                                                            {% endfor %}
                                                                                                                                                                            {% for tres in thresholds['Tags2IndexedReads'].keys() %} 
                                                                                                                                                                            var line = {x : [0.5, 40.5],
                                                                                                                                                                                y : [{{thresholds['Tags2IndexedReads'][tres]}},{{thresholds['Tags2IndexedReads'][tres]}}],
                                                                                                                                                                                mode: 'lines',
                                                                                                                                                                                name: "{{tres}}",
                                                                                                                                                                                showlegend: false,
                                                                                                                                                                                line: {
                                                                                                                                                                                    dash: 'dot',
                                                                                                                                                                                    color : "red",
                                                                                                                                                                                    width : 2}};
                                                                                                                                                                                    data.push(line);
                                                                                                                                                                                    {% endfor %}
                                                                                                                                                                                    
                                                                                                                                                                                    Plotly.newPlot('Tags2IndexedReads', data, layout);
                                                                                                                                                                                </script>
                                                                                                                                                                                
                                                                                                                                                                                
                                                                                                                                                                                <script>
                                                                                                                                                                                    ////////////////// TotalIndexedReads2Clusters //////////////////
                                                                                                                                                                                    
                                                                                                                                                                                    var XY_plot = document.getElementById('')
                                                                                                                                                                                    var data = []
                                                                                                                                                                                    
                                                                                                                                                                                    var layout = {
                                                                                                                                                                                        title: 'TotalIndexedReads2Clusters - (40 most recent batches)',
                                                                                                                                                                                        hovermode:'closest',
                                                                                                                                                                                        margin : {b: 100},
                                                                                                                                                                                        xaxis :{showline: true,
                                                                                                                                                                                            tickvals : {{ticks}},
                                                                                                                                                                                            ticktext : {{batch_names|tojson}},
                                                                                                                                                                                            tickangle : 40,
                                                                                                                                                                                            zeroline: false,
                                                                                                                                                                                            linecolor: '#636363',
                                                                                                                                                                                            linewidth: 5,
                                                                                                                                                                                            gridcolor: '#bdbdbd',
                                                                                                                                                                                            
                                                                                                                                                                                        },
                                                                                                                                                                                        
                                                                                                                                                                                        yaxis :{zeroline: false,
                                                                                                                                                                                            showline: true,
                                                                                                                                                                                            showgrid: false,
                                                                                                                                                                                            linecolor: '#636363',
                                                                                                                                                                                            linewidth: 5,
                                                                                                                                                                                            title : 'TotalIndexedReads2Clusters'
                                                                                                                                                                                        },};
                                                                                                                                                                                        
                                                                                                                                                                                        {% for batch_id  in batch_ids %}
                                                                                                                                                                                        var box = {
                                                                                                                                                                                            y: {{TotalIndexedReads2Clusters[batch_id]['y']}},
                                                                                                                                                                                            x: {{TotalIndexedReads2Clusters[batch_id]['x']}},
                                                                                                                                                                                            mode: 'markers',
                                                                                                                                                                                            type: 'scatter',
                                                                                                                                                                                            showlegend: false,
                                                                                                                                                                                            //name: "{{batch_names[batch_id]}}",
                                                                                                                                                                                        };
                                                                                                                                                                                        
                                                                                                                                                                                        
                                                                                                                                                                                        data.push(box); 
                                                                                                                                                                                        {% endfor %}
                                                                                                                                                                                        {% for tres in thresholds['TotalIndexedReads2Clusters'].keys() %} 
                                                                                                                                                                                        var line = {x : [0, 40.5],
                                                                                                                                                                                            y : [{{thresholds['TotalIndexedReads2Clusters'][tres]}},{{thresholds['TotalIndexedReads2Clusters'][tres]}}],
                                                                                                                                                                                            mode: 'lines',
                                                                                                                                                                                            showlegend: false,
                                                                                                                                                                                            name: "{{tres}}",
                                                                                                                                                                                            line: {
                                                                                                                                                                                                dash: 'dot',
                                                                                                                                                                                                color : "red",
                                                                                                                                                                                                width : 2}};
                                                                                                                                                                                                data.push(line);
                                                                                                                                                                                                {% endfor %}
                                                                                                                                                                                                Plotly.newPlot('TotalIndexedReads2Clusters', data, layout);
                                                                                                                                                                                            </script>
                                                                                                                                                                                            
                                                                                                                                                                                            
                                                                                                                                                                                            
                                                                                                                                                                                            <script>
                                                                                                                                                                                                ////////////////// Library yield //////////////////
                                                                                                                                                                                                
                                                                                                                                                                                                var XY_plot = document.getElementById('')
                                                                                                                                                                                                var data = []
                                                                                                                                                                                                
                                                                                                                                                                                                var layout = {
                                                                                                                                                                                                    title: 'Library yield - (40 most recent batches)',
                                                                                                                                                                                                    hovermode:'closest',
                                                                                                                                                                                                    margin : {b: 100},
                                                                                                                                                                                                    xaxis :{showline: true,
                                                                                                                                                                                                        tickvals : {{ticks}},
                                                                                                                                                                                                        ticktext : {{batch_names|tojson}},
                                                                                                                                                                                                        tickangle : 40,
                                                                                                                                                                                                        zeroline: false,
                                                                                                                                                                                                        linecolor: '#636363',
                                                                                                                                                                                                        linewidth: 5,
                                                                                                                                                                                                        gridcolor: '#bdbdbd',
                                                                                                                                                                                                        
                                                                                                                                                                                                    },
                                                                                                                                                                                                    
                                                                                                                                                                                                    yaxis :{zeroline: false,
                                                                                                                                                                                                        showline: true,
                                                                                                                                                                                                        showgrid: false,
                                                                                                                                                                                                        linecolor: '#636363',
                                                                                                                                                                                                        linewidth: 5,
                                                                                                                                                                                                        title : 'Library_nM'
                                                                                                                                                                                                    },};
                                                                                                                                                                                                    
                                                                                                                                                                                                    {% for batch_id  in batch_ids %}
                                                                                                                                                                                                    var box = {
                                                                                                                                                                                                        y: {{Library_nM[batch_id]['y']}},
                                                                                                                                                                                                        x: {{Library_nM[batch_id]['x']}},
                                                                                                                                                                                                        //jitter: 0.3,
                                                                                                                                                                                                        //pointpos: 30,
                                                                                                                                                                                                        type: 'box',
                                                                                                                                                                                                        showlegend: false,
                                                                                                                                                                                                        //name: "{{batch_names[batch_id]}}",
                                                                                                                                                                                                        boxpoints: 'suspectedoutliers',
                                                                                                                                                                                                    };
                                                                                                                                                                                                    data.push(box); 
                                                                                                                                                                                                    {% endfor %}
                                                                                                                                                                                                    {% for tres in thresholds['Library_nM'].keys() %} 
                                                                                                                                                                                                    var line = {x : [0.5, 40.5],
                                                                                                                                                                                                        y : [{{thresholds['Library_nM'][tres]}},{{thresholds['Library_nM'][tres]}}],
                                                                                                                                                                                                        mode: 'lines',
                                                                                                                                                                                                        showlegend: false,
                                                                                                                                                                                                        name: "{{tres}}",
                                                                                                                                                                                                        line: {
                                                                                                                                                                                                            dash: 'dot',
                                                                                                                                                                                                            color : "red",
                                                                                                                                                                                                            width : 2}};
                                                                                                                                                                                                            data.push(line);
                                                                                                                                                                                                            {% endfor %}
                                                                                                                                                                                                            Plotly.newPlot('Library_nM', data, layout);
                                                                                                                                                                                                        </script>
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
                                                                                                                                                                                                        <script>
                                                                                                                                                                                                            jQuery(function () {
                                                                                                                                                                                                                jQuery('#myTab a:first').tab('show')
                                                                                                                                                                                                            })
                                                                                                                                                                                                        </script>
                                                                                                                                                                                                        {% endblock %}
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        